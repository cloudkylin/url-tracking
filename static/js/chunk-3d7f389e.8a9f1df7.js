(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d7f389e"],{"7fe7":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-main",[r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form",{ref:"form",staticClass:"form",attrs:{model:t.form,rules:t.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"请输入网址",prop:"url"}},[r("el-input",{model:{value:t.form.url,callback:function(e){t.$set(t.form,"url","string"===typeof e?e.trim():e)},expression:"form.url"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:t.getData}},[t._v("提交")]),r("el-button",{on:{click:t.handleClean}},[t._v("清空")])],1)],1)],1)],1),r("el-row",[r("el-col",[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.table,stripe:"",border:""}},[r("el-table-column",{attrs:{type:"index",label:"跳转次数",width:"80",align:"center"}}),r("el-table-column",{attrs:{prop:"url",label:"跳转地址"}}),r("el-table-column",{attrs:{prop:"whois",label:"网址拥有者信息"}})],1)],1)],1)],1)},l=[],n=(r("fb6a"),r("d3b7"),{name:"tools",data:function(){var t=function(t,e,r){if(!e)return r(new Error("请输入网址"));var a=/^(https?:)?(\/\/)?[-A-Za-z0-9+&@#%?=~_|!:,;]+\.[-A-Za-z0-9+&@#%?=~_|!:,;]+[-A-Za-z0-9+&@#/%=~_|.]*/i;a.test(e)?r():r(new Error("请输入正确的网址"))};return{rules:{url:[{validator:t,trigger:"change"}]},form:{url:""},table:[]}},methods:{handleClean:function(){this.form.url="",this.table=[]},getData:function(){var t=this;this.$refs.form.validate((function(e){if(!e)return!1;var r=t.$loading({lock:!0}),a=t.form.url,l=/^https?:\/\//;l.test(a)||(a="//"===a.slice(0,2)?"http"+a:"http://"+a),fetch("/v1/trackingUrl",{method:"POST",body:JSON.stringify({url:a}),headers:new Headers({"Content-Type":"application/json"})}).then((function(t){if(200===t.status)return t.json();throw new Error("请求失败，请重试")})).then((function(e){if(e.status)t.table=e.data;else{var r=e.message?e.message:"追踪失败，请稍后再试";t.$notify.warning({title:"追踪失败",message:r}),t.table=[]}})).catch((function(){t.$notify.error({title:"请求失败",message:"请求失败，请重试"}),t.table=[]})).finally((function(){return r.close()}))}))}}}),o=n,i=(r("a901"),r("2877")),s=Object(i["a"])(o,a,l,!1,null,"6115fcd6",null);e["default"]=s.exports},a901:function(t,e,r){"use strict";var a=r("c45d"),l=r.n(a);l.a},c45d:function(t,e,r){}}]);
//# sourceMappingURL=chunk-3d7f389e.8a9f1df7.js.map