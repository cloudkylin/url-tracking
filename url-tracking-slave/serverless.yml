# æ¬¢è¿ä½¿ç”¨ âš¡ï¸serverlessâš¡ï¸ ç»„ä»¶
#
# serverlessç»„ä»¶æ˜¯åŸºäºå…·ä½“ä½¿ç”¨åœºæ™¯(Express, é™æ€ç½‘ç«™ç­‰)æä¾›çš„å®šåˆ¶äº‘èµ„æºç¼–æ’å’Œç»„ç»‡çš„è§£å†³æ–¹æ¡ˆã€‚
# è¿™æ˜¯serverlessçš„ä¸»è¦é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«äº†ä¸€äº›ä½¿ç”¨ç¤ºä¾‹ä»¥åŠæ³¨é‡Šè¯´æ˜ã€‚
# æ‚¨åªéœ€å‡ è¡Œé…ç½®æè¿°ï¼Œå³å¯è¿›è¡Œäº‘å‡½æ•°ã€API ç½‘å…³ã€COSã€DB ç­‰
# Serverless èµ„æºè¿›è¡Œå¿«é€Ÿåˆ›å»ºã€éƒ¨ç½²å’Œä¿®æ”¹ã€‚
#
# æœ‰å…³å®Œæ•´çš„é…ç½®é€‰é¡¹ï¼Œè¯·æ£€æŸ¥æ–‡æ¡£ï¼š
# https://cloud.tencent.com/document/product/1154/51080
#
# ğŸ‘©â€ğŸ’» Happy Coding ğŸ‘¨â€ğŸ’»

# åº”ç”¨ç»„ç»‡ä¿¡æ¯
app: url-tracking-slave-beijing-c0c3dbc3 # appåç§°(appå”¯ä¸€è¯†åˆ«æ ‡è¯†)ã€‚åŒè´¦å·ä¸‹éœ€å”¯ä¸€ï¼Œç•™ç©ºåˆ™ç»§æ‰¿ç»„ä»¶å®ä¾‹åç§°

# ç»„ä»¶ä¿¡æ¯
component: scf # [å¿…é€‰]è¦ä½¿ç”¨ç»„ä»¶ï¼Œæ›´å¤šç»„ä»¶è¯·æŸ¥çœ‹ https://github.com/serverless-components
name: url-tracking-slave-beijing # [å¿…é€‰]ç»„ä»¶å®ä¾‹åç§°

# ç»„ä»¶å‚æ•°é…ç½®
# æ›´å¤šå†…å®¹è¯·æŸ¥çœ‹: https://github.com/serverless-components/tencent-scf/blob/master/docs/configure.md
inputs:
  name: ${name} # å¡«å…¥æ‚¨çš„å‡½æ•°åç§°
  namespace: url-track
  src:
    src: ./
    exclude:
      - .env
      - node_modules
  type: web
  runtime: Nodejs12.16
  region: ap-beijing
  description: This is a function in ${app} application.
  memorySize: 512 # å†…å­˜å¤§å°ï¼Œå•ä½MBã€‚ä¸ºä¿è¯æ€§èƒ½ï¼Œweb å‡½æ•°è¯·é…ç½® 512 MB åŠä»¥ä¸Š
  timeout: 30 # å‡½æ•°æ‰§è¡Œè¶…æ—¶æ—¶é—´ï¼Œå•ä½ç§’
  initTimeout: 5 # åˆå§‹åŒ–è¶…æ—¶æ—¶é—´ï¼Œå•ä½ç§’
  publicAccess: true # æ˜¯å¦å¼€å¯å…¬ç½‘è®¿é—®
  installDependency: false # æ˜¯å¦åœ¨çº¿å®‰è£…ä¾èµ–
  cls: # å‡½æ•°æ—¥å¿—
    logsetId: 8d13cb06-0357-4c9c-a14a-b46d6d4fbaec
    topicId: a4f4244b-e33f-44da-bd6e-8ed7ceb864b5
  asyncRunEnable: false # æ˜¯å¦å¯ç”¨å¼‚æ­¥æ‰§è¡Œï¼ˆé•¿æ—¶é—´è¿è¡Œï¼‰
  events:
    - apigw:
        parameters:
          protocols:
            - http
            - https
          environment: release
          endpoints:
            - path: /
              method: ANY
